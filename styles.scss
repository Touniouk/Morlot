// ─── Variables ───────────────────────────────────────────────
$cream:     #f0ebe3;
$warm:      #e8dfd2;
$charcoal:  #2a2a27;
$stone:     #6b6560;
$rust:      #c45a3c;
$rust-dim:  #a34d34;
$sand:      #d4c5b0;
$white:     #faf8f5;

$font-display: 'Playfair Display', serif;
$font-body:    'DM Sans', sans-serif;

$ease-out: cubic-bezier(.22, 1, .36, 1);

$bp-tablet: 768px;
$bp-mobile: 480px;


// ─── Mixins ──────────────────────────────────────────────────

// Reusable section-header block (label + title)
@mixin section-header($title-color: $charcoal, $em-color: $stone) {
  .section-label {
    font-size: 0.68rem;
    font-weight: 500;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: $rust;
    margin-bottom: 0.6rem;
  }

  .section-title {
    font-family: $font-display;
    font-size: clamp(2rem, 4vw, 2.8rem);
    font-weight: 700;
    line-height: 1.2;
    color: $title-color;
    margin-bottom: 1rem;

    em {
      font-style: italic;
      color: $em-color;
      font-weight: 400;
    }
  }
}

// Gallery item background — images set via inline style in HTML;
// this mixin just ensures background-size and position are correct.
@mixin gallery-bg() {
  background-size: cover;
  background-position: center;
}


// ─── Reset ───────────────────────────────────────────────────
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

// Also expose colours as CSS custom properties so JS or
// any inline style can still reference them if needed.
:root {
  --cream:     #{$cream};
  --warm:      #{$warm};
  --charcoal:  #{$charcoal};
  --stone:     #{$stone};
  --rust:      #{$rust};
  --rust-dim:  #{$rust-dim};
  --sand:      #{$sand};
  --white:     #{$white};
}

html { scroll-behavior: smooth; }

body {
  font-family: $font-body;
  background: $cream;
  color: $charcoal;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

img {
  display: block;
  width: 100%;
  object-fit: cover;
}

section { padding: 7rem 2.5rem; }


// ─── Loader ──────────────────────────────────────────────────
.loader {
  position: fixed;
  inset: 0;
  z-index: 1000;
  background: $charcoal;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.4s ease, visibility 0.4s ease;

  &.done {
    opacity: 0;
    visibility: hidden;
  }
}

.loader-spinner {
  width: 36px;
  height: 36px;
  border: 2.5px solid rgba(255, 255, 255, 0.15);
  border-top-color: $rust;
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}


// ─── Reveal animation ────────────────────────────────────────
.reveal {
  opacity: 0;
  transform: translateY(28px);
  transition: opacity 0.7s $ease-out, transform 0.7s $ease-out;

  &.visible {
    opacity: 1;
    transform: translateY(0);
  }
}


// ─── Navigation ──────────────────────────────────────────────
nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 2.5rem;
  background: transparent;
  transition: background 0.4s, padding 0.4s, box-shadow 0.4s;

  &.scrolled {
    background: rgba(42, 42, 39, 0.92);
    backdrop-filter: blur(8px);
    padding: 0.75rem 2.5rem;
    box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);
  }
}

.nav-logo {
  font-family: $font-display;
  font-size: 1.4rem;
  font-weight: 700;
  color: $cream;
  letter-spacing: 0.02em;
  text-decoration: none;
  text-shadow:
    0 0 3px rgba(0, 0, 0, 0.9),
    0 0 6px rgba(0, 0, 0, 0.7),
    0 2px 12px rgba(0, 0, 0, 0.5);
}

.nav-links {
  display: flex;
  gap: 2rem;
  list-style: none;

  a {
    color: $sand;
    text-decoration: none;
    font-size: 0.78rem;
    font-weight: 500;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    position: relative;
    padding-bottom: 4px;
    transition: color 0.3s;
    text-shadow:
      0 0 3px rgba(0, 0, 0, 0.9),
      0 0 6px rgba(0, 0, 0, 0.7),
      0 2px 12px rgba(0, 0, 0, 0.5);

    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 1.5px;
      background: $rust;
      transition: width 0.3s;
    }

    &:hover {
      color: $white;

      &::after { width: 100%; }
    }
  }
}

.hamburger {
  display: none;
  flex-direction: column;
  gap: 5px;
  cursor: pointer;

  span {
    width: 24px;
    height: 1.5px;
    background: $sand;
    transition: 0.3s;
  }
}


// ─── Hero ────────────────────────────────────────────────────
.hero {
  position: relative;
  height: 100vh;
  min-height: 600px;
  display: flex;
  align-items: flex-end;
  background: $charcoal;
  overflow: hidden;

  &-bg {
    position: absolute;
    inset: 0;
    will-change: transform;
    background:
      linear-gradient(to top, rgba(42,42,39,0.85) 0%, rgba(42,42,39,0.2) 50%, transparent 100%);
      // url('assets/landscape.jpg') — image set via inline style in HTML

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(ellipse at 20% 80%, rgba(107,101,96,0.3) 0%, transparent 50%),
        radial-gradient(ellipse at 75% 30%, rgba(107,101,96,0.2) 0%, transparent 45%),
        radial-gradient(ellipse at 55% 70%, rgba(60,57,52,0.4)  0%, transparent 40%);
      opacity: 0.6;
    }
  }

  &-content {
    position: relative;
    z-index: 2;
    padding: 0 2.5rem 5rem;
    max-width: 720px;
  }

  &-tag {
    display: inline-block;
    font-size: 0.7rem;
    font-weight: 500;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: $rust;
    margin-bottom: 1rem;
    border-left: 2px solid $rust;
    padding-left: 0.75rem;
  }

  h1 {
    font-family: $font-display;
    font-size: clamp(3rem, 7vw, 5.5rem);
    font-weight: 900;
    line-height: 1.05;
    color: $white;
    margin-bottom: 1.25rem;

    em {
      font-style: italic;
      color: $sand;
      font-weight: 400;
    }
  }

  p {
    font-size: 1.05rem;
    line-height: 1.7;
    color: $sand;
    max-width: 480px;
    font-weight: 300;
    text-shadow:
      0 0 3px rgba(0, 0, 0, 0.9),
      0 0 6px rgba(0, 0, 0, 0.7),
      0 2px 12px rgba(0, 0, 0, 0.5);
  }
}

.scroll-hint {
  position: absolute;
  bottom: 1.8rem;
  right: 2.5rem;
  z-index: 2;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  color: $stone;
  font-size: 0.68rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;

  .line {
    width: 1px;
    height: 40px;
    background: $stone;
    animation: scrollPulse 2s ease-in-out infinite;
  }
}

@keyframes scrollPulse {
  0%, 100% { opacity: 1;   transform: scaleY(1);   }
  50%      { opacity: 0.3; transform: scaleY(0.5); }
}


// ─── About ───────────────────────────────────────────────────
.about {
  background: $white;

  &-inner {
    max-width: 1100px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1.1fr;
    gap: 5rem;
    align-items: center;
  }

  &-image-wrap {
    position: relative;

    .img-placeholder {
      width: 100%;
      aspect-ratio: 3 / 4;
      border-radius: 4px;
      // background image removed — this is now an <img> tag in HTML
      background: none;
      position: relative;
      overflow: hidden;
      will-change: transform;
    }

    .accent-block {
      position: absolute;
      bottom: -1.2rem;
      right: -1.2rem;
      width: 55%;
      aspect-ratio: 1;
      border-radius: 4px;
      background: $rust;
      opacity: 0.85;
      z-index: -1;
    }
  }

  &-text {
    .section-label { margin-top: 0.3rem; }

    @include section-header;

    p {
      font-size: 1rem;
      line-height: 1.85;
      color: $stone;
      margin-bottom: 1rem;
      font-weight: 300;

      &:first-of-type::first-letter {
        font-family: $font-display;
        font-size: 3.2rem;
        float: left;
        line-height: 0.8;
        margin-right: 0.6rem;
        margin-top: 0.1rem;
        color: $rust;
        font-weight: 700;
      }
    }
  }

  &-stats {
    display: flex;
    gap: 2.5rem;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid $sand;
  }
}

.stat-item {
  .stat-num {
    font-family: $font-display;
    font-size: 2rem;
    font-weight: 700;
    color: $charcoal;
  }

  .stat-label {
    font-size: 0.7rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: $stone;
    margin-top: 0.2rem;
  }
}


// ─── Specializations ─────────────────────────────────────────
.specs {
  background: $cream;

  &-inner { max-width: 1100px; margin: 0 auto; }

  &-header {
    max-width: 520px;
    margin-bottom: 3.5rem;
    @include section-header;
  }

  &-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }
}

.spec-card {
  background: $white;
  border-radius: 4px;
  overflow: hidden;
  transition: transform 0.18s ease-out, box-shadow 0.18s ease-out;

  &:hover {
    transform: translateY(-6px);
    box-shadow: 0 16px 40px rgba(42, 42, 39, 0.1);
  }

  .card-img {
    aspect-ratio: 4 / 3;
    background-size: cover;
    background-position: center;
  }

  .card-body {
    padding: 1.4rem 1.5rem;

    h4 {
      font-family: $font-display;
      font-size: 1.05rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    p {
      font-size: 0.82rem;
      line-height: 1.6;
      color: $stone;
      font-weight: 300;
    }
  }
}


// ─── Process ─────────────────────────────────────────────────
.process {
  background: $charcoal;
  color: $cream;

  &-inner {
    max-width: 900px;
    margin: 0 auto;
    @include section-header($cream, $sand);
  }

  &-steps {
    margin-top: 3.5rem;
    display: flex;
    flex-direction: column;
  }
}

.step {
  display: grid;
  grid-template-columns: 80px 1fr;
  gap: 1.5rem;
  align-items: start;
  padding: 2rem 0;
  border-bottom: 1px solid rgba(212, 197, 176, 0.12);

  &:last-child { border-bottom: none; }

  &-num {
    font-family: $font-display;
    font-size: 3rem;
    font-weight: 900;
    color: $rust;
    line-height: 1;
    opacity: 0.7;
  }

  h4 {
    font-family: $font-display;
    font-size: 1.2rem;
    font-weight: 700;
    color: $white;
    margin-bottom: 0.5rem;
  }

  p {
    font-size: 0.9rem;
    line-height: 1.75;
    color: $sand;
    font-weight: 300;
  }
}


// ─── Parallax Banner ─────────────────────────────────────────
.parallax-banner {
  position: relative;
  height: 420px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;

  .pb-bg {
    position: absolute;
    inset: -30% 0;
    will-change: transform;
    background:
      linear-gradient(to bottom, rgba(42,42,39,0.55) 0%, rgba(42,42,39,0.7) 100%);
      // url('assets/landscape.jpg') — image set via inline style in HTML
  }

  .pb-content {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: 0 2rem;
    max-width: 700px;
  }

  .pb-line {
    width: 40px;
    height: 1.5px;
    background: $rust;
    margin: 0 auto 1rem;
  }

  .pb-quote {
    font-family: $font-display;
    font-size: clamp(1.6rem, 3.5vw, 2.4rem);
    font-style: italic;
    font-weight: 400;
    line-height: 1.5;
    color: $cream;
    margin-bottom: 1.2rem;
  }

  .pb-attr {
    font-size: 0.7rem;
    font-weight: 500;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: $sand;
    opacity: 0.7;
  }
}


// ─── Gallery ─────────────────────────────────────────────────
.gallery {
  padding: 0;
  overflow: hidden;

  &-strip {
    display: flex;
    gap: 6px;
  }
}

.g-item {
  flex: 1;
  aspect-ratio: 1;
  position: relative;
  overflow: hidden;
  cursor: pointer;

  .g-bg {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    transition: transform 0.6s $ease-out;
  }

  &:hover .g-bg { transform: scale(1.08); }

  // Per-item background sizing — url() is set via inline style in HTML
  &:nth-child(1) .g-bg,
  &:nth-child(2) .g-bg,
  &:nth-child(3) .g-bg,
  &:nth-child(4) .g-bg,
  &:nth-child(5) .g-bg { @include gallery-bg(); }

  .g-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(42,42,39,0.7) 0%, transparent 60%);
    display: flex;
    align-items: flex-end;
    padding: 1.2rem;
    opacity: 0;
    transition: opacity 0.4s;

    span {
      font-size: 0.7rem;
      color: $sand;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-weight: 500;
    }
  }

  &:hover .g-overlay { opacity: 1; }
}


// ─── Testimonials ────────────────────────────────────────────
.testimonials {
  background: $warm;

  &-inner {
    max-width: 780px;
    margin: 0 auto;
    text-align: center;
    @include section-header;

    .section-label,
    .section-title { text-align: center; }

    .section-title { margin-bottom: 3rem; }
  }
}

.carousel {
  position: relative;
  overflow: hidden;

  &-track {
    display: flex;
    transition: transform 0.55s $ease-out;
  }

  &-dots {
    display: flex;
    justify-content: center;
    gap: 0.55rem;
    margin-top: 2.2rem;

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: $sand;
      cursor: pointer;
      transition: background 0.3s, transform 0.3s;

      &.active {
        background: $rust;
        transform: scale(1.25);
      }
    }
  }
}

.testimonial-slide {
  min-width: 100%;
  padding: 0 1rem;

  blockquote {
    font-family: $font-display;
    font-size: clamp(1.1rem, 2.2vw, 1.35rem);
    font-style: italic;
    line-height: 1.8;
    color: $charcoal;
    font-weight: 400;
    margin-bottom: 1.8rem;
  }

  .author {
    font-family: $font-body;
    font-size: 0.72rem;
    font-weight: 500;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: $stone;
  }
}


// ─── Contact ─────────────────────────────────────────────────
.contact {
  background: $charcoal;
  text-align: center;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse at 30% 50%, rgba(196,90,60,0.08) 0%, transparent 60%),
      radial-gradient(ellipse at 70% 40%, rgba(107,101,96,0.15) 0%, transparent 55%);
  }

  &-inner {
    position: relative;
    z-index: 1;
    max-width: 640px;
    margin: 0 auto;
    @include section-header($cream, $sand);

    > p {
      color: $sand;
      font-size: 0.95rem;
      line-height: 1.8;
      font-weight: 300;
      margin-bottom: 2.2rem;
    }
  }

  &-links {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    flex-wrap: wrap;

    a {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: $cream;
      text-decoration: none;
      font-size: 0.72rem;
      font-weight: 500;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      padding: 0.9rem 1.8rem;
      border: 1px solid rgba(212, 197, 176, 0.25);
      border-radius: 3px;
      transition: background 0.3s, border-color 0.3s;

      &:hover {
        background: $rust;
        border-color: $rust;
      }

      &.primary {
        background: $rust;
        border-color: $rust;

        &:hover {
          background: $rust-dim;
          border-color: $rust-dim;
        }
      }
    }
  }
}


// ─── Footer ──────────────────────────────────────────────────
footer {
  background: #1e1e1c;
  padding: 2rem 2.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;

  .footer-logo {
    font-family: $font-display;
    font-size: 1rem;
    font-weight: 700;
    color: $sand;
  }

  p {
    font-size: 0.7rem;
    color: $stone;
    letter-spacing: 0.06em;
  }
}


// ─── Responsive ──────────────────────────────────────────────
@media (max-width: $bp-tablet) {
  nav { padding: 1rem 1.5rem; }

  .nav-links {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    flex-direction: column;
    background: rgba(42, 42, 39, 0.97);
    padding: 1.5rem;
    gap: 1.2rem;

    &.open { display: flex; }
  }

  .hamburger { display: flex; }

  .hero-content { padding: 0 1.5rem 4rem; }

  section { padding: 4.5rem 1.5rem; }

  .about-inner         { grid-template-columns: 1fr; gap: 2.5rem; }
  .specs-grid          { grid-template-columns: 1fr 1fr; }
  .gallery-strip .g-item { flex: 0 0 33.33%; }
  .step                { grid-template-columns: 50px 1fr; gap: 1rem; }
  .step-num            { font-size: 2.2rem; }

  footer { flex-direction: column; text-align: center; }
}

@media (max-width: $bp-mobile) {
  .specs-grid            { grid-template-columns: 1fr; }
  .gallery-strip .g-item { flex: 0 0 50%; }
}